<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DropNacional - Ofertas</title>
    <style>
        /* --- 1. VARI√ÅVEIS DE CORES --- */
        :root {
            --bg-body: #ffffff; --bg-header: #ffffff; --bg-card: #ffffff;
            --text-main: #333333; --text-secondary: #666666; --text-card: #333333;
            --border-color: #eeeeee; --primary: #2ecc71; --hero-bg: #333333; --hero-text: #ffffff;
            --shadow: 0 5px 15px rgba(0,0,0,0.1); --animacao-display: none; 
        }
        
        /* TEMA ANO NOVO */
        body.tema-anonovo {
            --bg-body: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            --bg-header: rgba(15, 12, 41, 0.9); --bg-card: #ffffff; 
            --text-main: #ffffff; --text-secondary: #cccccc; --text-card: #333333; 
            --border-color: #FFD700; --primary: #FFD700; --hero-bg: transparent; --hero-text: #FFD700; 
            --shadow: 0 10px 25px rgba(255, 215, 0, 0.3); --animacao-display: block; 
        }

        /* --- 2. CSS GERAL --- */
        body { font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; background: var(--bg-body); color: var(--text-main); transition: background 0.5s ease, color 0.5s ease; min-height: 100vh; overflow-x: hidden; padding-bottom: 80px; }
        
        .welcome-bar { background-color: var(--primary); color: #fff; text-align: center; padding: 8px; font-size: 0.9rem; font-weight: 600; letter-spacing: 0.5px; transition: 0.3s; }
        body.tema-anonovo .welcome-bar { color: #333; }
        
        header { background: var(--bg-header); padding: 15px 0; border-bottom: 1px solid var(--border-color); position: sticky; top: 0; z-index: 100; transition: background 0.5s ease, border-color 0.5s ease; backdrop-filter: blur(10px); }
        .container { width: 90%; max-width: 1100px; margin: auto; display: flex; justify-content: space-between; align-items: center; }
        .logo-area { display: flex; flex-direction: column; }
        .logo { font-size: 1.5rem; font-weight: bold; color: var(--text-main); line-height: 1; }
        .logo span { color: var(--primary); }
        .slogan { font-size: 0.75rem; color: var(--text-secondary); font-weight: 500; letter-spacing: 0.5px; margin-top: 3px; font-style: italic; }
        .menu-items { display: flex; align-items: center; gap: 15px; }
        
        .btn-zap-menu { background: var(--primary); color: #fff; padding: 8px 15px; text-decoration: none; border-radius: 20px; font-weight: bold; font-size: 0.9rem; transition: transform 0.2s; color: #fff; }
        body.tema-anonovo .btn-zap-menu { color: #333 !important; }
        .btn-zap-menu:hover { transform: scale(1.05); }

        .btn-rastreio { cursor: pointer; font-size: 0.9rem; font-weight: 600; color: var(--text-main); text-decoration: none; border-bottom: 2px solid transparent; transition: 0.3s; }
        .btn-rastreio:hover { border-bottom: 2px solid var(--primary); }

        .btn-theme { background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); color: var(--text-main); width: 45px; height: 45px; border-radius: 50%; cursor: pointer; font-size: 1.5rem; display: flex; align-items: center; justify-content: center; transition: all 0.4s; }
        .btn-theme:hover { background: rgba(255,255,255,0.2); transform: scale(1.1); }
        .girar { transform: rotate(360deg) scale(1.1); }

        .hero { background: var(--hero-bg); color: var(--hero-text); text-align: center; padding: 60px 20px; transition: background 0.5s ease; position: relative; z-index: 10; }
        .hero h1 { margin: 0 0 10px; font-size: 2.5rem; }

        .products { padding: 40px 0; position: relative; z-index: 10; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; width: 90%; max-width: 1100px; margin: auto; }
        
        .card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden; display: flex; flex-direction: column; transition: 0.3s; }
        .card:hover { box-shadow: var(--shadow); transform: translateY(-5px); }
        .card img { width: 100%; height: 250px; object-fit: contain; padding: 10px; box-sizing: border-box; background: #fff; cursor: zoom-in; transition: transform 0.3s; }
        .card img:hover { transform: scale(1.03); }
        
        .info { padding: 15px; text-align: center; display: flex; flex-direction: column; flex-grow: 1; justify-content: space-between; }
        .info h3 { color: var(--text-card); margin: 10px 0; font-size: 1.1rem; }
        .price { color: var(--primary); font-weight: bold; font-size: 1.3rem; margin: 10px 0; }
        .size-selector { margin: 10px 0; width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #ccc; font-size: 1rem; color: #333; background: #fff; }
        .btn-buy { display: block; background: var(--primary); color: #fff; padding: 10px; text-decoration: none; border-radius: 5px; font-weight: bold; transition: opacity 0.2s; cursor: pointer; }
        body.tema-anonovo .btn-buy { color: #333; }
        .btn-buy:hover { opacity: 0.9; }

        /* MODAL */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.9); align-items: center; justify-content: center; animation: fadeIn 0.3s; }
        .modal-content { margin: auto; display: block; max-width: 90%; max-height: 90vh; object-fit: contain; border-radius: 8px; box-shadow: 0 0 20px rgba(255,255,255,0.2); animation: zoomIn 0.3s; }
        .close { position: absolute; top: 20px; right: 35px; color: #f1f1f1; font-size: 40px; font-weight: bold; transition: 0.3s; cursor: pointer; }
        @keyframes fadeIn { from {opacity: 0} to {opacity: 1} }
        @keyframes zoomIn { from {transform: scale(0.8)} to {transform: scale(1)} }

        /* --- BOT√ÉO FLUTUANTE DO WHATSAPP --- */
        .btn-whatsapp-float {
            position: fixed;
            bottom: 25px;
            right: 25px;
            background-color: #25D366;
            color: white;
            padding: 12px 24px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            z-index: 2000; /* Alto para ficar acima de tudo */
            transition: transform 0.3s ease, background-color 0.3s;
            font-size: 1rem;
        }

        .btn-whatsapp-float:hover {
            transform: scale(1.05);
            background-color: #20bd5a;
        }

        footer { text-align: center; padding: 20px; background: rgba(0,0,0,0.5); color: #fff; margin-top: 40px; position: relative; z-index: 10; }
        
        /* ANIMA√á√ÉO BRILHOS */
        .sparkle { position: fixed; width: 6px; height: 6px; border-radius: 50%; background-color: #FFD700; box-shadow: 0 0 10px 2px #FFD700; top: 100%; z-index: 1; opacity: 0; animation: subir 5s linear infinite; display: var(--animacao-display); }
        @keyframes subir { 0% { transform: translateY(0) scale(0.5); opacity: 0; } 20% { opacity: 1; } 100% { transform: translateY(-110vh) scale(1.5); opacity: 0; } }
        .s1 { left: 10%; animation-duration: 4s; animation-delay: 0s; } .s2 { left: 25%; animation-duration: 5s; animation-delay: 1s; } .s3 { left: 40%; animation-duration: 3.5s; animation-delay: 2s; }
        .s4 { left: 55%; animation-duration: 6s; animation-delay: 0.5s; } .s5 { left: 70%; animation-duration: 4.5s; animation-delay: 1.5s; } .s6 { left: 85%; animation-duration: 5.5s; animation-delay: 3s; }
        .s7 { left: 5%; animation-duration: 7s; animation-delay: 2.5s; } .s8 { left: 95%; animation-duration: 4s; animation-delay: 4s; }
    </style>
</head>
<body>

    <div class="sparkle s1"></div><div class="sparkle s2"></div><div class="sparkle s3"></div>
    <div class="sparkle s4"></div><div class="sparkle s5"></div><div class="sparkle s6"></div>
    <div class="sparkle s7"></div><div class="sparkle s8"></div>

    <div id="imageModal" class="modal">
        <span class="close" id="closeModal">&times;</span>
        <img class="modal-content" id="imgAmpliada">
    </div>

    <div class="welcome-bar" id="msg-boasvindas">üëã Ol√°! Seja bem-vindo(a) √† maior loja de Dropshipping Nacional.</div>

    <header>
        <div class="container">
            <div class="logo-area">
                <div class="logo">Drop<span>Nacional</span></div>
                <div class="slogan">O Brasil compra aqui üáßüá∑</div>
            </div>
            <div class="menu-items">
                <a href="https://rastreamento.correios.com.br/app/index.php" target="_blank" class="btn-rastreio">Rastrear Pedido</a>
                
                <button id="btn-tema" class="btn-theme" title="Modo Ano Novo">ü•Ç</button>
            </div>
        </div>
    </header>

    <div class="hero">
        <h1 id="hero-title">Produtos a Pronta Entrega</h1>
        <p id="hero-desc">Estoque no Brasil. Aceitamos Pix.</p>
    </div>

    <div class="products">
        <div class="grid" id="lista-produtos">
            <p style="text-align:center; width:100%">Carregando ofertas...</p>
        </div>
    </div>

    <a href="https://wa.me/5511999999999?text=Ol√°!%20Preciso%20de%20ajuda%20com%20um%20pedido." 
       class="btn-whatsapp-float" 
       target="_blank">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.472 14.382C17.283 14.288 16.353 13.829 16.18 13.735C16.007 13.641 15.881 13.593 15.755 13.782C15.629 13.971 15.269 14.394 15.158 14.52C15.048 14.646 14.938 14.662 14.749 14.568C14.56 14.474 13.951 14.274 13.228 13.629C12.648 13.112 12.256 12.473 12.146 12.284C12.036 12.095 12.134 11.993 12.228 11.9C12.313 11.815 12.417 11.679 12.511 11.569C12.605 11.459 12.637 11.38 12.699 11.254C12.762 11.128 12.73 11.018 12.683 10.924C12.636 10.83 12.258 9.899 12.1 9.521C11.947 9.155 11.791 9.205 11.674 9.205C11.565 9.205 11.439 9.205 11.313 9.205C11.187 9.205 10.983 9.252 10.81 9.441C10.637 9.63 10.149 10.086 10.149 11.015C10.149 11.944 10.825 12.841 10.92 12.967C11.014 13.093 12.235 15.071 14.186 15.826C15.845 16.469 16.186 16.355 16.548 16.323C16.963 16.287 17.828 15.826 18.006 15.322C18.185 14.819 18.185 14.394 18.138 14.315C18.091 14.236 17.965 14.19 17.776 14.096H17.472V14.382Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12.008 0C5.385 0 0 5.385 0 12.008C0 14.116 0.547 16.164 1.587 17.969L0.518 21.895L4.545 20.839C6.264 21.777 8.169 22.25 10.126 22.25H10.134C16.749 22.25 22.134 16.865 22.134 10.242C22.134 7.031 20.884 4.015 18.614 1.743C16.344 -0.529 13.328 0 10.126 0H12.008ZM12.008 20.378C10.222 20.378 8.475 19.897 6.947 18.989L6.584 18.774L2.835 19.757L3.835 16.103L3.599 15.729C2.607 14.153 2.084 12.332 2.084 10.468C2.084 4.991 6.541 0.534 12.018 0.534C14.671 0.534 17.165 1.568 19.041 3.444C20.917 5.32 21.951 7.814 21.951 10.468C21.951 15.945 17.494 20.378 12.008 20.378Z" fill="white"/>
        </svg>
        Suporte
    </a>

    <footer>
        <p>&copy; <span id="ano-atual"></span> DropNacional. Feliz Ano Novo! ‚ú®</p>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDSp-Ho5AFA9aMdBoeAtVxHMHZw6fm7nnw",
            authDomain: "drop-64117.firebaseapp.com",
            projectId: "drop-64117",
            storageBucket: "drop-64117.firebasestorage.app",
            messagingSenderId: "194938296952",
            appId: "1:194938296952:web:c0e7c8ca068cf06fef2b8d"
        };

        // --- ATEN√á√ÉO: COLOQUE SEU N√öMERO AQUI TAMB√âM ---
        const MEU_ZAP = "5511999999999"; 
        
        document.getElementById('ano-atual').innerText = new Date().getFullYear();
        
        // Modal de Imagem
        const modal = document.getElementById("imageModal");
        const modalImg = document.getElementById("imgAmpliada");
        const closeBtn = document.getElementById("closeModal");

        window.abrirZoom = (src) => { modal.style.display = "flex"; modalImg.src = src; }
        closeBtn.onclick = () => { modal.style.display = "none"; }
        window.onclick = (event) => { if (event.target == modal) modal.style.display = "none"; }

        // L√≥gica do Tema
        const btnTema = document.getElementById('btn-tema');
        const heroTitle = document.getElementById('hero-title');
        const heroDesc = document.getElementById('hero-desc');
        const welcomeMsg = document.getElementById('msg-boasvindas');

        function aplicarTema(anonovo) {
            if (anonovo) {
                document.body.classList.add('tema-anonovo');
                btnTema.innerText = 'üéÜ';
                heroTitle.innerText = "Ofertas de Ano Novo";
                heroDesc.innerText = "Comece o ano economizando! ‚ú®";
                welcomeMsg.innerText = "‚ú® Feliz 2026! Aproveite nossas promo√ß√µes de virada de ano.";
            } else {
                document.body.classList.remove('tema-anonovo');
                btnTema.innerText = 'ü•Ç';
                heroTitle.innerText = "Produtos a Pronta Entrega";
                heroDesc.innerText = "Estoque no Brasil. Aceitamos Pix.";
                welcomeMsg.innerText = "üëã Ol√°! Seja bem-vindo(a) √† maior loja de Dropshipping Nacional.";
            }
        }
        const temaSalvo = localStorage.getItem('temaAnoNovo');
        if (temaSalvo === 'sim') aplicarTema(true);

        btnTema.addEventListener('click', () => {
            btnTema.classList.add('girar');
            const isAnoNovo = document.body.classList.toggle('tema-anonovo');
            localStorage.setItem('temaAnoNovo', isAnoNovo ? 'sim' : 'nao');
            setTimeout(() => { aplicarTema(isAnoNovo); btnTema.classList.remove('girar'); }, 200);
        });

        // Firebase - Listar Produtos
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const divLista = document.getElementById('lista-produtos');

        onSnapshot(collection(db, "produtos"), (snapshot) => {
            divLista.innerHTML = '';
            if (snapshot.empty) { divLista.innerHTML = '<p>Nenhum produto cadastrado.</p>'; return; }
            
            snapshot.forEach(doc => {
                const prod = doc.data();
                const id = doc.id;
                const img = prod.imagem || 'https://via.placeholder.com/300';
                
                let seletorHTML = '';
                if (prod.tamanhos && prod.tamanhos.length > 0) {
                    let opcoes = prod.tamanhos.map(t => `<option value="${t}">${t}</option>`).join('');
                    seletorHTML = `<select id="tamanho-${id}" class="size-selector">${opcoes}</select>`;
                }

                divLista.innerHTML += `
                    <div class="card">
                        <img src="${img}" alt="${prod.nome}" onclick="abrirZoom('${img}')" title="Clique para ampliar">
                        <div class="info">
                            <h3>${prod.nome}</h3>
                            ${seletorHTML}
                            <div class="price">R$ ${parseFloat(prod.preco).toFixed(2)}</div>
                            <div class="btn-buy" onclick="pedirZap('${id}', '${prod.nome}', '${prod.preco}')">Pedir no WhatsApp</div>
                        </div>
                    </div>
                `;
            });
        });

        // Bot√£o de Pedido (Card do produto)
        window.pedirZap = (id, nome, preco) => {
            const seletor = document.getElementById(`tamanho-${id}`);
            let tamanhoEscolhido = seletor ? ` Tamanho: *${seletor.value}*.` : "";
            const msg = `Ol√°! Quero comprar o *${nome}* por R$ ${preco}.${tamanhoEscolhido} Aceita Pix?`;
            window.open(`https://wa.me/${MEU_ZAP}?text=${encodeURIComponent(msg)}`, '_blank');
        }
    </script>
</body>
</html>