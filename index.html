<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DropNacional - Ofertas</title>
    <style>
        /* --- 1. VARI√ÅVEIS DE CORES --- */
        :root {
            --bg-body: #ffffff; --bg-header: #ffffff; --bg-card: #ffffff;
            --text-main: #333333; --text-secondary: #666666; --text-card: #333333;
            --border-color: #eeeeee; --primary: #2ecc71; --hero-bg: #333333; --hero-text: #ffffff;
            --shadow: 0 5px 15px rgba(0,0,0,0.1); --animacao-display: none; 
        }
        
        /* TEMA ANO NOVO */
        body.tema-anonovo {
            --bg-body: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            --bg-header: rgba(15, 12, 41, 0.9); --bg-card: #ffffff; 
            --text-main: #ffffff; --text-secondary: #cccccc; --text-card: #333333; 
            --border-color: #FFD700; --primary: #FFD700; --hero-bg: transparent; --hero-text: #FFD700; 
            --shadow: 0 10px 25px rgba(255, 215, 0, 0.3); --animacao-display: block; 
        }

        /* --- 2. CSS GERAL --- */
        body { font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; background: var(--bg-body); color: var(--text-main); transition: background 0.5s ease, color 0.5s ease; min-height: 100vh; overflow-x: hidden; padding-bottom: 80px; }
        
        .welcome-bar { background-color: var(--primary); color: #fff; text-align: center; padding: 8px; font-size: 0.9rem; font-weight: 600; letter-spacing: 0.5px; transition: 0.3s; }
        body.tema-anonovo .welcome-bar { color: #333; }
        
        header { background: var(--bg-header); padding: 15px 0; border-bottom: 1px solid var(--border-color); position: sticky; top: 0; z-index: 100; transition: background 0.5s ease, border-color 0.5s ease; backdrop-filter: blur(10px); }
        .container { width: 90%; max-width: 1100px; margin: auto; display: flex; justify-content: space-between; align-items: center; }
        .logo-area { display: flex; flex-direction: column; }
        .logo { font-size: 1.5rem; font-weight: bold; color: var(--text-main); line-height: 1; }
        .logo span { color: var(--primary); }
        .slogan { font-size: 0.75rem; color: var(--text-secondary); font-weight: 500; letter-spacing: 0.5px; margin-top: 3px; font-style: italic; }
        .menu-items { display: flex; align-items: center; gap: 15px; }
        
        .btn-zap-menu { background: var(--primary); color: #fff; padding: 8px 15px; text-decoration: none; border-radius: 20px; font-weight: bold; font-size: 0.9rem; transition: transform 0.2s; color: #fff; }
        body.tema-anonovo .btn-zap-menu { color: #333 !important; }
        .btn-zap-menu:hover { transform: scale(1.05); }

        .btn-rastreio { cursor: pointer; font-size: 0.9rem; font-weight: 600; color: var(--text-main); text-decoration: none; border-bottom: 2px solid transparent; transition: 0.3s; }
        .btn-rastreio:hover { border-bottom: 2px solid var(--primary); }

        .btn-theme { background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); color: var(--text-main); width: 45px; height: 45px; border-radius: 50%; cursor: pointer; font-size: 1.5rem; display: flex; align-items: center; justify-content: center; transition: all 0.4s; }
        .btn-theme:hover { background: rgba(255,255,255,0.2); transform: scale(1.1); }
        .girar { transform: rotate(360deg) scale(1.1); }

        .hero { background: var(--hero-bg); color: var(--hero-text); text-align: center; padding: 60px 20px; transition: background 0.5s ease; position: relative; z-index: 10; }
        .hero h1 { margin: 0 0 10px; font-size: 2.5rem; }

        .products { padding: 40px 0; position: relative; z-index: 10; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; width: 90%; max-width: 1100px; margin: auto; }
        
        .card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden; display: flex; flex-direction: column; transition: 0.3s; }
        .card:hover { box-shadow: var(--shadow); transform: translateY(-5px); }
        .card img { width: 100%; height: 250px; object-fit: contain; padding: 10px; box-sizing: border-box; background: #fff; cursor: zoom-in; transition: transform 0.3s; }
        .card img:hover { transform: scale(1.03); }
        
        .info { padding: 15px; text-align: center; display: flex; flex-direction: column; flex-grow: 1; justify-content: space-between; }
        .info h3 { color: var(--text-card); margin: 10px 0; font-size: 1.1rem; }
        .price { color: var(--primary); font-weight: bold; font-size: 1.3rem; margin: 10px 0; }
        .size-selector { margin: 10px 0; width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #ccc; font-size: 1rem; color: #333; background: #fff; }
        .btn-buy { display: block; background: var(--primary); color: #fff; padding: 10px; text-decoration: none; border-radius: 5px; font-weight: bold; transition: opacity 0.2s; cursor: pointer; }
        body.tema-anonovo .btn-buy { color: #333; }
        .btn-buy:hover { opacity: 0.9; }

        /* MODAL */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.9); align-items: center; justify-content: center; animation: fadeIn 0.3s; }
        .modal-content { margin: auto; display: block; max-width: 90%; max-height: 90vh; object-fit: contain; border-radius: 8px; box-shadow: 0 0 20px rgba(255,255,255,0.2); animation: zoomIn 0.3s; }
        .close { position: absolute; top: 20px; right: 35px; color: #f1f1f1; font-size: 40px; font-weight: bold; transition: 0.3s; cursor: pointer; }
        @keyframes fadeIn { from {opacity: 0} to {opacity: 1} }
        @keyframes zoomIn { from {transform: scale(0.8)} to {transform: scale(1)} }

        /* --- BOT√ÉO FLUTUANTE DO WHATSAPP (CORRIGIDO) --- */
        .btn-whatsapp-float {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: #25D366;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
            z-index: 2000;
            transition: all 0.3s ease;
            padding: 0; /* Garante que n√£o deforme */
            line-height: 0; /* Remove espa√ßos extras */
        }

        .btn-whatsapp-float svg {
            width: 35px;
            height: 35px;
            fill: white;
        }

        .btn-whatsapp-float:hover {
            background-color: #20bd5a;
            transform: scale(1.1);
            box-shadow: 0 6px 14px rgba(0, 0, 0, 0.5);
        }

        footer { text-align: center; padding: 20px; background: rgba(0,0,0,0.5); color: #fff; margin-top: 40px; position: relative; z-index: 10; }
        
        /* ANIMA√á√ÉO BRILHOS */
        .sparkle { position: fixed; width: 6px; height: 6px; border-radius: 50%; background-color: #FFD700; box-shadow: 0 0 10px 2px #FFD700; top: 100%; z-index: 1; opacity: 0; animation: subir 5s linear infinite; display: var(--animacao-display); }
        @keyframes subir { 0% { transform: translateY(0) scale(0.5); opacity: 0; } 20% { opacity: 1; } 100% { transform: translateY(-110vh) scale(1.5); opacity: 0; } }
        .s1 { left: 10%; animation-duration: 4s; animation-delay: 0s; } .s2 { left: 25%; animation-duration: 5s; animation-delay: 1s; } .s3 { left: 40%; animation-duration: 3.5s; animation-delay: 2s; }
        .s4 { left: 55%; animation-duration: 6s; animation-delay: 0.5s; } .s5 { left: 70%; animation-duration: 4.5s; animation-delay: 1.5s; } .s6 { left: 85%; animation-duration: 5.5s; animation-delay: 3s; }
        .s7 { left: 5%; animation-duration: 7s; animation-delay: 2.5s; } .s8 { left: 95%; animation-duration: 4s; animation-delay: 4s; }
    </style>
</head>
<body>

    <div class="sparkle s1"></div><div class="sparkle s2"></div><div class="sparkle s3"></div>
    <div class="sparkle s4"></div><div class="sparkle s5"></div><div class="sparkle s6"></div>
    <div class="sparkle s7"></div><div class="sparkle s8"></div>

    <div id="imageModal" class="modal">
        <span class="close" id="closeModal">&times;</span>
        <img class="modal-content" id="imgAmpliada">
    </div>

    <div class="welcome-bar" id="msg-boasvindas">üëã Ol√°! Seja bem-vindo(a) √† maior loja de Dropshipping Nacional.</div>

    <header>
        <div class="container">
            <div class="logo-area">
                <div class="logo">Drop<span>Nacional</span></div>
                <div class="slogan">O Brasil compra aqui üáßüá∑</div>
            </div>
            <div class="menu-items">
                <a href="https://rastreamento.correios.com.br/app/index.php" target="_blank" class="btn-rastreio">Rastrear Pedido</a>
                <button id="btn-tema" class="btn-theme" title="Modo Ano Novo">ü•Ç</button>
            </div>
        </div>
    </header>

    <div class="hero">
        <h1 id="hero-title">Produtos a Pronta Entrega</h1>
        <p id="hero-desc">Estoque no Brasil. Aceitamos Pix.</p>
    </div>

    <div class="products">
        <div class="grid" id="lista-produtos">
            <p style="text-align:center; width:100%">Carregando ofertas...</p>
        </div>
    </div>

    <a href="https://wa.me/5511999999999?text=Ol√°!%20Preciso%20de%20ajuda." 
       class="btn-whatsapp-float" 
       target="_blank"
       title="Fale conosco no WhatsApp">
        
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.66 2.59 15.36 3.45 16.86L2.05 22L7.3 20.62C8.75 21.41 10.38 21.83 12.04 21.83C17.5 21.83 21.95 17.38 21.95 11.92C21.95 9.27 20.92 6.78 19.05 4.91C17.18 3.03 14.69 2 12.04 2M12.05 3.67C14.25 3.67 16.31 4.53 17.87 6.09C19.42 7.65 20.28 9.72 20.28 11.92C20.28 16.46 16.58 20.15 12.04 20.15C10.56 20.15 9.11 19.76 7.85 19L7.55 18.83L4.43 19.65L5.26 16.61L5.06 16.29C4.24 15 3.8 13.47 3.8 11.91C3.81 7.37 7.5 3.67 12.05 3.67M8.53 7.33C8.37 7.33 8.1 7.39 7.87 7.64C7.65 7.89 7 8.5 7 9.71C7 10.93 7.89 12.1 8 12.27C8.14 12.44 9.76 14.94 12.25 16C12.84 16.25 13.3 16.41 13.66 16.52C14.33 16.73 14.94 16.7 15.43 16.63C15.98 16.55 17.11 15.95 17.35 15.27C17.58 14.6 17.58 14.02 17.51 13.9C17.44 13.78 17.27 13.7 17 13.56C16.74 13.43 15.44 12.79 15.2 12.71C14.96 12.63 14.78 12.59 14.61 12.84C14.43 13.1 13.93 13.69 13.78 13.88C13.62 14.06 13.46 14.09 13.2 13.95C12.94 13.81 12.09 13.53 11.09 12.64C10.29 11.93 9.75 11.05 9.6 10.8C9.44 10.54 9.58 10.4 9.71 10.27C9.83 10.15 9.98 9.97 10.12 9.81C10.25 9.64 10.3 9.53 10.4 9.33C10.49 9.13 10.44 8.97 10.38 8.84C10.31 8.71 9.81 7.5 9.61 7C9.4 6.53 9.19 6.59 9.03 6.59C8.88 6.59 8.71 6.59 8.53 6.59V7.33Z"/>
        </svg>
    </a>

    <footer>
        <p>&copy; <span id="ano-atual"></span> DropNacional. Feliz Ano Novo! ‚ú®</p>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDSp-Ho5AFA9aMdBoeAtVxHMHZw6fm7nnw",
            authDomain: "drop-64117.firebaseapp.com",
            projectId: "drop-64117",
            storageBucket: "drop-64117.firebasestorage.app",
            messagingSenderId: "194938296952",
            appId: "1:194938296952:web:c0e7c8ca068cf06fef2b8d"
        };

        const MEU_ZAP = "5511999999999"; 
        
        document.getElementById('ano-atual').innerText = new Date().getFullYear();
        
        // Modal de Imagem
        const modal = document.getElementById("imageModal");
        const modalImg = document.getElementById("imgAmpliada");
        const closeBtn = document.getElementById("closeModal");

        window.abrirZoom = (src) => { modal.style.display = "flex"; modalImg.src = src; }
        closeBtn.onclick = () => { modal.style.display = "none"; }
        window.onclick = (event) => { if (event.target == modal) modal.style.display = "none"; }

        // L√≥gica do Tema
        const btnTema = document.getElementById('btn-tema');
        const heroTitle = document.getElementById('hero-title');
        const heroDesc = document.getElementById('hero-desc');
        const welcomeMsg = document.getElementById('msg-boasvindas');

        function aplicarTema(anonovo) {
            if (anonovo) {
                document.body.classList.add('tema-anonovo');
                btnTema.innerText = 'üéÜ';
                heroTitle.innerText = "Ofertas de Ano Novo";
                heroDesc.innerText = "Comece o ano economizando! ‚ú®";
                welcomeMsg.innerText = "‚ú® Feliz 2026! Aproveite nossas promo√ß√µes de virada de ano.";
            } else {
                document.body.classList.remove('tema-anonovo');
                btnTema.innerText = 'ü•Ç';
                heroTitle.innerText = "Produtos a Pronta Entrega";
                heroDesc.innerText = "Estoque no Brasil. Aceitamos Pix.";
                welcomeMsg.innerText = "üëã Ol√°! Seja bem-vindo(a) √† maior loja de Dropshipping Nacional.";
            }
        }
        const temaSalvo = localStorage.getItem('temaAnoNovo');
        if (temaSalvo === 'sim') aplicarTema(true);

        btnTema.addEventListener('click', () => {
            btnTema.classList.add('girar');
            const isAnoNovo = document.body.classList.toggle('tema-anonovo');
            localStorage.setItem('temaAnoNovo', isAnoNovo ? 'sim' : 'nao');
            setTimeout(() => { aplicarTema(isAnoNovo); btnTema.classList.remove('girar'); }, 200);
        });

        // Firebase - Listar Produtos
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const divLista = document.getElementById('lista-produtos');

        onSnapshot(collection(db, "produtos"), (snapshot) => {
            divLista.innerHTML = '';
            if (snapshot.empty) { divLista.innerHTML = '<p>Nenhum produto cadastrado.</p>'; return; }
            
            snapshot.forEach(doc => {
                const prod = doc.data();
                const id = doc.id;
                const img = prod.imagem || 'https://via.placeholder.com/300';
                
                let seletorHTML = '';
                if (prod.tamanhos && prod.tamanhos.length > 0) {
                    let opcoes = prod.tamanhos.map(t => `<option value="${t}">${t}</option>`).join('');
                    seletorHTML = `<select id="tamanho-${id}" class="size-selector">${opcoes}</select>`;
                }

                divLista.innerHTML += `
                    <div class="card">
                        <img src="${img}" alt="${prod.nome}" onclick="abrirZoom('${img}')" title="Clique para ampliar">
                        <div class="info">
                            <h3>${prod.nome}</h3>
                            ${seletorHTML}
                            <div class="price">R$ ${parseFloat(prod.preco).toFixed(2)}</div>
                            <div class="btn-buy" onclick="pedirZap('${id}', '${prod.nome}', '${prod.preco}')">Pedir no WhatsApp</div>
                        </div>
                    </div>
                `;
            });
        });

        window.pedirZap = (id, nome, preco) => {
            const seletor = document.getElementById(`tamanho-${id}`);
            let tamanhoEscolhido = seletor ? ` Tamanho: *${seletor.value}*.` : "";
            const msg = `Ol√°! Quero comprar o *${nome}* por R$ ${preco}.${tamanhoEscolhido} Aceita Pix?`;
            window.open(`https://wa.me/${MEU_ZAP}?text=${encodeURIComponent(msg)}`, '_blank');
        }
    </script>
</body>
</html>